{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="vi">
{% load static %}

<head>
    {% tailwind_css %}
    <!-- 1. Thẻ charset, viewport, title -->
    <meta http-equiv="content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <title>Đăng nhập ADMIN</title>

    <!-- 2. Thẻ SEO cơ bản -->
    <meta name="description" content="">
    <meta name="keywords" content="Đăng nhập tài khoản" />
    <link rel="canonical" href="{{domain}}/admin/login" />

    <meta name='revisit-after' content='1 days' />
    <meta name="robots" content="noodp,index,follow" />

    <!-- 3. Favicon -->
    <link rel="shortcut icon" href="{{obj.Logo.url}}" type="image/x-icon" />

    <!-- 4. Open Graph tags (Facebook, Zalo...) -->
    <meta property="og:type" content="website">

    <meta property="og:title" content="Đăng nhập tài khoản">
    <meta property="og:description" content="">
    <meta property="og:image" content="{{obj.Logo.url}}">
    <meta property="og:image:secure_url" content="{{obj.Logo.url}}">
    <meta property="og:url" content="{{domain}}/admin/login">

    <meta property="og:site_name" content="Cosbeauty">

    <!-- 5. Phần còn lại -->

    <link rel="stylesheet" href="/static/css/dist/styles.css?v=1743858420">
    <link rel="stylesheet" href="/static/styles.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
        @font-face {
            font-family: 'UTM Aptima';
            src: url('static/fonts/00022-UTM-Aptima.ttf') format('truetype');
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: 'UTM Aptima';
            src: url('static/fonts/00024-UTM-AptimaBoldItalic.ttf') format('truetype');
            font-weight: 700;
            font-style: italic;
        }

        @font-face {
            font-family: 'UTM Bebas';
            src: url('static/fonts/00041-UTM-Bebas.ttf') format('truetype');
            font-weight: 700;
            font-style: italic;
        }

        body {
            font-family: 'UTM Aptima', sans-serif !important;
        }

        .login-input {
            background: rgba(30, 41, 59, 0.6) !important;
            border: 1px solid rgba(71, 85, 105, 0.5) !important;
            color: white !important;
            transition: all 0.3s ease;
        }

        .login-input::placeholder {
            color: rgba(148, 163, 184, 0.8);
        }

        .login-input:focus {
            border-color: rgba(245, 158, 11, 0.8) !important;
            box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2), 0 0 20px rgba(245, 158, 11, 0.1) !important;
            outline: none !important;
        }

        .login-btn {
            background: linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        .login-btn:hover {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(245, 158, 11, 0.4);
        }

        .glass-card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(71, 85, 105, 0.4);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 100px rgba(245, 158, 11, 0.1);
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .logo-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>

</head>

<body class="w-full min-h-screen flex items-center justify-center p-4"
    style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.97) 0%, rgba(30, 41, 59, 0.95) 100%), url('/upload/website/background.png') no-repeat center center/cover;">
    <div class="glass-card w-full max-w-md p-8 rounded-2xl">
        <!-- Logo Section -->
        <div class="flex justify-center items-center mb-6">
            <div
                class="logo-float p-4 rounded-full bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/30">
                <img src="{{obj.Logo.url}}" class="w-20 h-20 rounded-full object-cover" />
            </div>
        </div>

        <!-- Title -->
        <div class="text-center mb-8">
            <h1 class="text-2xl font-bold text-white uppercase tracking-wider mb-2">Đăng nhập</h1>
            <p class="text-slate-400 text-sm">Trang quản trị hệ thống</p>
        </div>

        <!-- Login Form -->
        <form id="Login_Form" action="" class="flex flex-col gap-4">
            {% csrf_token %}
            <div class="flex flex-col gap-2">
                <label class="text-xs text-amber-500 font-medium uppercase tracking-wider">Tên tài khoản</label>
                <div class="relative">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </span>
                    <input name="username" placeholder="Nhập tên tài khoản"
                        class="login-input rounded-xl w-full pl-12 pr-4 py-3" />
                </div>
            </div>

            <div class="flex flex-col gap-2">
                <label class="text-xs text-amber-500 font-medium uppercase tracking-wider">Mật khẩu</label>
                <div class="relative">
                    <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                                clip-rule="evenodd"></path>
                        </svg>
                    </span>
                    <input name="password" type="password" placeholder="Nhập mật khẩu"
                        class="login-input rounded-xl w-full pl-12 pr-4 py-3" />
                </div>
            </div>

            <button type="submit"
                class="login-btn text-white rounded-xl py-3 font-bold uppercase tracking-wider mt-4 flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z"
                        clip-rule="evenodd"></path>
                </svg>
                Đăng nhập
            </button>
        </form>

        <!-- Footer -->
        <div class="mt-8 text-center">
            <p class="text-slate-500 text-xs">© 2024 XEMLIVEGA.COM - All rights reserved</p>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('#Login_Form').on('submit', function (event) {
                event.preventDefault();

                var formData = new FormData(this);

                $.ajax({
                    url: '{% url 'login_admin' %}',
                    method: 'POST',
                    processData: false,
                    contentType: false,
                    data: formData,
                    success: function (response) {
                        if (response.success) {
                            window.location.href = response.redirect_url;
                        } else {
                            alert(response.message);
                        }
                    },
                    error: function (response) {
                        console.log('Đăng nhập thất bại', response);
                    }
                });
            });

        });
    </script>
</body>

</html>